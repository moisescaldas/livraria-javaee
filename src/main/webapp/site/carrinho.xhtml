<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:jsf="http://xmlns.jcp.org/jsf">
<h:head>
	<title>Carrinho de Compras</title>
</h:head>
<h:body>
	<form jsf:id="cartForm" method="post">
		<table id="cartTable">
			<tbody>
				<ui:repeat var="item" value="#{shoppingCart.list}">
					<tr>
						<td><img src="#{item.book.coverUrl}" width="71px"
							height="100px" /></td>
						<td>#{item.book.title}</td>
						<td>R$ #{item.price}</td>
						<td><input type="number" min="10" readonly="readonly"
							value="#{shoppingCart.getQuantity(item)}" /></td>
						<td>R$ #{shoppingCart.getTotal(item)}</td>
						<td><a jsf:action="#{shoppingCartBean.remove(item.bookId)}">Excluir</a></td>
					</tr>
				</ui:repeat>
			</tbody>
			<tbody>
				<tr>
					<td colspan="3"><a
						href="${request.contextPath}/site/checkout.xhtml" id="checkout"
						class="checkout">Finalizar compra </a></td>
					<td><input type="submit" id="refreash" value="" /></td>
					<td>R$ #{shoppingCart.getTotal()}</td>
				</tr>
			</tbody>
		</table>
	</form>
</h:body>

</html>